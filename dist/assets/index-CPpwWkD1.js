(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function o(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(e){if(e.ep)return;e.ep=!0;const i=o(e);fetch(e.href,i)}})();const m={paymentPages:{zakat:{public:"https://rzp.io/l/PASTE_ZAKAT_PUBLIC",anonymous:"https://rzp.io/l/PASTE_ZAKAT_ANON"},fidyah:{public:"https://rzp.io/l/PASTE_FIDYAH_PUBLIC",anonymous:"https://rzp.io/l/PASTE_FIDYAH_ANON"},kaffarah:{public:"https://rzp.io/l/PASTE_KAFFARAH_PUBLIC",anonymous:"https://rzp.io/l/PASTE_KAFFARAH_ANON"},sadaqah:{public:"https://rzp.io/l/PASTE_SADAQAH_PUBLIC",anonymous:"https://rzp.io/l/PASTE_SADAQAH_ANON"},masjidFund:{public:"https://rzp.io/l/PASTE_MASJID_PUBLIC",anonymous:"https://rzp.io/l/PASTE_MASJID_ANON"}},settings:{fidyahRate:120,whatsappLink:"https://chat.whatsapp.com/PASTE_LINK"}};function A(t,n){const o=t,s=m.paymentPages[o];return s?n?s.anonymous:s.public:(console.error(`Unknown category: ${t}`),m.paymentPages.masjidFund.public)}function E(t){return t*m.settings.fidyahRate}const x=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M12 2v20M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"/>
</svg>`,S=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
  <path d="M8 12h8M8 16h8"/>
</svg>`,C=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M3 3v18h18"/>
  <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3"/>
  <circle cx="12" cy="12" r="3"/>
</svg>`,M=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.29 1.51 4.04 3 5.5l7 7z"/>
  <path d="M12 5l3 3-3 3-3-3z"/>
</svg>`,p=`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
  <path d="M3 21h18"/>
  <path d="M5 21V7l8-4v18"/>
  <path d="M19 21V11l-6-4"/>
  <path d="M9 9v.01"/>
  <path d="M9 12v.01"/>
  <path d="M9 15v.01"/>
  <path d="M9 18v.01"/>
</svg>`,y={zakat:x,fidyah:S,kaffarah:C,sadaqah:M,masjid:p,masjid_fund:p};function B(){document.querySelectorAll("[data-icon]").forEach(n=>{const o=n.getAttribute("data-icon");o&&y[o]&&(n.innerHTML=y[o])})}const a={currentLanguage:"en",currentDonationType:null,donationAmount:null,isAnonymous:!1,fidyahDays:null,mobileNumber:null};let d={};document.addEventListener("DOMContentLoaded",()=>{T()});async function T(){const t=sessionStorage.getItem("lang");if(!t&&k()!=="index"){window.location.href="/index.html";return}t&&(a.currentLanguage=t),await P(),g(a.currentLanguage),N(),D()}async function P(){try{const t=await fetch("/src/i18n/en.json"),n=await fetch("/src/i18n/ml.json"),o=await t.json(),s=await n.json();d={en:o,ml:s}}catch(t){console.error("Failed to load translations:",t)}}function g(t){a.currentLanguage=t,document.documentElement.lang=t==="ml"?"ml":"en",t==="ml"?document.body.classList.add("font-malayalam"):document.body.classList.remove("font-malayalam"),document.querySelectorAll("[data-i18n]").forEach(s=>{const e=s.getAttribute("data-i18n");if(e&&d[t]){const i=v(d[t],e);i&&(s.textContent=i)}}),document.querySelectorAll('[data-i18n="nav.language"]').forEach(s=>{s.textContent=t==="ml"?"മല":"EN"})}function v(t,n){return n.split(".").reduce((o,s)=>o==null?void 0:o[s],t)||""}function j(){return a.currentLanguage}function b(t){return v(d[a.currentLanguage],t)}function z(t,n){const o=b(n);o&&(t.textContent=o)}function L(t){return!!(t&&t>=1)}function _(t){return/^\d{10}$/.test(t)}window.getLang=j;window.t=b;window.setText=z;window.validateAmount=L;window.validateMobile=_;function N(){const t=document.getElementById("amount-input"),n=document.getElementById("continue-button");t&&n&&t.addEventListener("input",()=>{const i=parseFloat(t.value);a.donationAmount=i,w()});const o=document.getElementById("fidyah-days-input");o&&o.addEventListener("input",()=>{const i=parseInt(o.value);if(a.fidyahDays=i,i&&i>=1){const r=E(i),c=document.getElementById("fidyah-calculated-amount");c&&(c.classList.remove("hidden"),c.textContent=`Calculated amount: ₹${r.toLocaleString()}`);const l=document.getElementById("amount-input");l&&(l.value=r.toString(),a.donationAmount=r,w())}else{const r=document.getElementById("fidyah-calculated-amount");r&&r.classList.add("hidden")}});const s=document.getElementById("anonymous-toggle");s&&s.addEventListener("change",()=>{a.isAnonymous=s.checked,I()});const e=document.getElementById("mobile-input");e&&e.addEventListener("input",()=>{a.mobileNumber=e.value})}function w(){const t=document.getElementById("continue-button");if(!t)return;L(a.donationAmount||0)?(t.disabled=!1,t.classList.remove("bg-gray-300","cursor-not-allowed"),t.classList.add("bg-primary-600","hover:bg-primary-700")):(t.disabled=!0,t.classList.add("bg-gray-300","cursor-not-allowed"),t.classList.remove("bg-primary-600","hover:bg-primary-700"))}function I(){const t=document.getElementById("mobile-section");t&&(a.isAnonymous?t.style.display="none":t.style.display="block")}function D(){const t=k();switch(B(),t){case"give":$();break;case"info":U();break;case"success":F();break}}function k(){const t=window.location.pathname;return t.includes("home.html")?"home":t.includes("give.html")?"give":t.includes("info.html")?"info":t.includes("success.html")?"success":"index"}function $(){var o,s,e;const n=new URLSearchParams(window.location.search).get("type")||sessionStorage.getItem("donationType");if(n){a.currentDonationType=n,H(n);const i=document.getElementById("category-chip");if(i){const r=((e=(s=(o=d[a.currentLanguage])==null?void 0:o.donation)==null?void 0:s[n])==null?void 0:e.title)||n;i.textContent=r}if(n==="fidyah"){const r=document.getElementById("fidyah-calculator");r&&r.classList.remove("hidden")}}I()}function H(t){var r,c,l,u,h,f;const n=document.getElementById("donation-icon"),o=document.getElementById("donation-title"),s=document.getElementById("donation-description");if(!n||!o||!s)return;const i={zakat:{icon:`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
      </svg>`,bgColor:"bg-primary-600"},fidyah:{icon:`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
      </svg>`,bgColor:"bg-green-600"},kaffarah:{icon:`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>`,bgColor:"bg-gold-600"},sadaqah:{icon:`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"></path>
      </svg>`,bgColor:"bg-purple-600"},masjid_fund:{icon:`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"></path>
      </svg>`,bgColor:"bg-blue-600"}}[t];i&&(n.className=`w-16 h-16 ${i.bgColor} rounded-full mx-auto mb-4 flex items-center justify-center`,n.innerHTML=i.icon,o.textContent=((l=(c=(r=d[a.currentLanguage])==null?void 0:r.donation)==null?void 0:c[t])==null?void 0:l.title)||t,s.textContent=((f=(h=(u=d[a.currentLanguage])==null?void 0:u.donation)==null?void 0:h[t])==null?void 0:f.description)||"")}function U(){const t=new URLSearchParams(window.location.search),n=t.get("c")||t.get("category")||sessionStorage.getItem("donationType");n&&R(n)}function R(t){var c,l;const n=document.getElementById("info-icon"),o=document.getElementById("info-title"),s=document.getElementById("info-content");if(!n||!o||!s)return;const e=(l=(c=d[a.currentLanguage])==null?void 0:c.info)==null?void 0:l[t];if(!e)return;const r={zakat:{bg:"bg-primary-600",icon:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"},fidyah:{bg:"bg-green-600",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},kaffarah:{bg:"bg-gold-600",icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},sadaqah:{bg:"bg-purple-600",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},masjid_fund:{bg:"bg-blue-600",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}}[t];r&&(n.className=`w-16 h-16 ${r.bg} rounded-full mx-auto mb-4 flex items-center justify-center`,n.innerHTML=`<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${r.icon}"></path></svg>`),o.textContent=e.title,s.innerHTML=`
    <div class="space-y-4">
      <div class="flex items-center space-x-4">
        <div class="w-12 h-12 ${(r==null?void 0:r.bg)||"bg-primary-600"} rounded-xl flex items-center justify-center">
          <svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="${(r==null?void 0:r.icon)||"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"}"></path>
          </svg>
        </div>
        <h3 class="text-lg font-semibold text-gray-900">${e.title}</h3>
      </div>
      <p class="text-gray-600 text-sm leading-relaxed">${e.body||e.description}</p>
      <div class="text-xs text-primary-600 font-medium">${e.rate}</div>
    </div>
  `}function F(){var c,l,u;const t=new URLSearchParams(window.location.search),n=t.get("type")||sessionStorage.getItem("donationType"),o=t.get("amount")||sessionStorage.getItem("donationAmount"),s=t.get("anonymous")||sessionStorage.getItem("isAnonymous"),e=document.getElementById("donation-type"),i=document.getElementById("donation-amount"),r=document.getElementById("donation-anonymous");e&&n&&(e.textContent=((u=(l=(c=d[a.currentLanguage])==null?void 0:c.donation)==null?void 0:l[n])==null?void 0:u.title)||n),i&&o&&(i.textContent=`₹${parseInt(o).toLocaleString()}`),r&&s&&(r.textContent=s==="true"?"Yes":"No")}window.selectLanguage=function(t){a.currentLanguage=t,sessionStorage.setItem("lang",t),g(t),window.location.href="/home.html"};window.switchLanguage=function(){const t=a.currentLanguage==="en"?"ml":"en";a.currentLanguage=t,sessionStorage.setItem("lang",t),g(t)};window.goBack=function(){window.history.back()};window.selectDonationType=function(t){a.currentDonationType=t,sessionStorage.setItem("donationType",t),window.location.href=`/give.html?type=${t}`};window.goToInfo=function(t){t?window.location.href=`/info.html?category=${t}`:window.location.href="/info.html"};window.goToHome=function(){window.location.href="/home.html"};window.setAmount=function(t){const n=document.getElementById("amount-input");n&&(n.value=t.toString(),n.dispatchEvent(new Event("input")))};window.continueToRazorpay=function(){const t=a.donationAmount;if(!t||t<1)return;sessionStorage.setItem("donationAmount",t.toString()),sessionStorage.setItem("isAnonymous",a.isAnonymous.toString()),sessionStorage.setItem("donationType",a.currentDonationType||"masjid_fund"),a.fidyahDays&&sessionStorage.setItem("fidyahDays",a.fidyahDays.toString()),a.mobileNumber&&sessionStorage.setItem("mobileNumber",a.mobileNumber);const n=A(a.currentDonationType||"masjid_fund",a.isAnonymous);window.location.href=n};window.makeAnotherDonation=function(){sessionStorage.removeItem("donationType"),sessionStorage.removeItem("donationAmount"),sessionStorage.removeItem("isAnonymous"),sessionStorage.removeItem("fidyahDays"),sessionStorage.removeItem("mobileNumber"),window.location.href="/home.html"};window.joinWhatsApp=function(){window.open(m.settings.whatsappLink,"_blank")};window.shareWhatsApp=function(){const t=encodeURIComponent("Check out this masjid donation app! Make your charitable contributions easily."),n=encodeURIComponent(window.location.origin);window.open(`https://wa.me/?text=${t}%20${n}`,"_blank")};window.shareTelegram=function(){const t=encodeURIComponent("Check out this masjid donation app! Make your charitable contributions easily."),n=encodeURIComponent(window.location.origin);window.open(`https://t.me/share/url?url=${n}&text=${t}`,"_blank")};document.addEventListener("DOMContentLoaded",()=>{const t=sessionStorage.getItem("lang");t&&(t==="en"||t==="ml")&&(a.currentLanguage=t)});
